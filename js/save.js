// koffee 1.3.0

/*
 0000000   0000000   000   000  00000000
000       000   000  000   000  000
0000000   000000000   000 000   0000000
     000  000   000     000     000
0000000   000   000      0      00000000
 */
var save;

save = function(p, data, strOpt, cb) {
    var defaults, fs, path, str, stringify;
    fs = require('fs');
    path = require('path');
    defaults = require('lodash.defaults');
    stringify = require('./stringify');
    if ('function' === typeof strOpt) {
        cb = strOpt;
        strOpt = {};
    } else {
        if (strOpt != null) {
            strOpt;
        } else {
            strOpt = {};
        }
    }
    str = stringify(data, defaults({
        ext: path.extname(p)
    }, strOpt));
    if ('function' === typeof cb) {
        return fs.writeFile(p, str, cb);
    } else {
        return fs.writeFileSync(p, str);
    }
};

module.exports = save;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2F2ZS5qcyIsInNvdXJjZVJvb3QiOiIuIiwic291cmNlcyI6WyIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7Ozs7OztBQUFBLElBQUE7O0FBUUEsSUFBQSxHQUFPLFNBQUMsQ0FBRCxFQUFJLElBQUosRUFBVSxNQUFWLEVBQWtCLEVBQWxCO0FBRUgsUUFBQTtJQUFBLEVBQUEsR0FBYSxPQUFBLENBQVEsSUFBUjtJQUNiLElBQUEsR0FBYSxPQUFBLENBQVEsTUFBUjtJQUNiLFFBQUEsR0FBYSxPQUFBLENBQVEsaUJBQVI7SUFDYixTQUFBLEdBQWEsT0FBQSxDQUFRLGFBQVI7SUFFYixJQUFHLFVBQUEsS0FBYyxPQUFPLE1BQXhCO1FBQ0ksRUFBQSxHQUFLO1FBQ0wsTUFBQSxHQUFTLEdBRmI7S0FBQSxNQUFBOztZQUlJOztZQUFBLFNBQVU7U0FKZDs7SUFNQSxHQUFBLEdBQU0sU0FBQSxDQUFVLElBQVYsRUFBZ0IsUUFBQSxDQUFTO1FBQUEsR0FBQSxFQUFJLElBQUksQ0FBQyxPQUFMLENBQWEsQ0FBYixDQUFKO0tBQVQsRUFBOEIsTUFBOUIsQ0FBaEI7SUFFTixJQUFHLFVBQUEsS0FBYyxPQUFPLEVBQXhCO2VBRUksRUFBRSxDQUFDLFNBQUgsQ0FBYSxDQUFiLEVBQWdCLEdBQWhCLEVBQXFCLEVBQXJCLEVBRko7S0FBQSxNQUFBO2VBTUksRUFBRSxDQUFDLGFBQUgsQ0FBaUIsQ0FBakIsRUFBb0IsR0FBcEIsRUFOSjs7QUFmRzs7QUF1QlAsTUFBTSxDQUFDLE9BQVAsR0FBaUIiLCJzb3VyY2VzQ29udGVudCI6WyIjIyNcbiAwMDAwMDAwICAgMDAwMDAwMCAgIDAwMCAgIDAwMCAgMDAwMDAwMDBcbjAwMCAgICAgICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwXG4wMDAwMDAwICAgMDAwMDAwMDAwICAgMDAwIDAwMCAgIDAwMDAwMDBcbiAgICAgMDAwICAwMDAgICAwMDAgICAgIDAwMCAgICAgMDAwXG4wMDAwMDAwICAgMDAwICAgMDAwICAgICAgMCAgICAgIDAwMDAwMDAwXG4jIyNcblxuc2F2ZSA9IChwLCBkYXRhLCBzdHJPcHQsIGNiKSAtPlxuXG4gICAgZnMgICAgICAgICA9IHJlcXVpcmUgJ2ZzJ1xuICAgIHBhdGggICAgICAgPSByZXF1aXJlICdwYXRoJ1xuICAgIGRlZmF1bHRzICAgPSByZXF1aXJlICdsb2Rhc2guZGVmYXVsdHMnXG4gICAgc3RyaW5naWZ5ICA9IHJlcXVpcmUgJy4vc3RyaW5naWZ5J1xuXG4gICAgaWYgJ2Z1bmN0aW9uJyA9PSB0eXBlb2Ygc3RyT3B0XG4gICAgICAgIGNiID0gc3RyT3B0XG4gICAgICAgIHN0ck9wdCA9IHt9XG4gICAgZWxzZVxuICAgICAgICBzdHJPcHQgPz0ge31cblxuICAgIHN0ciA9IHN0cmluZ2lmeSBkYXRhLCBkZWZhdWx0cyBleHQ6cGF0aC5leHRuYW1lKHApLCBzdHJPcHRcblxuICAgIGlmICdmdW5jdGlvbicgPT0gdHlwZW9mIGNiXG5cbiAgICAgICAgZnMud3JpdGVGaWxlIHAsIHN0ciwgY2JcblxuICAgIGVsc2VcblxuICAgICAgICBmcy53cml0ZUZpbGVTeW5jIHAsIHN0clxuXG5tb2R1bGUuZXhwb3J0cyA9IHNhdmVcbiJdfQ==
//# sourceURL=../coffee/save.coffee